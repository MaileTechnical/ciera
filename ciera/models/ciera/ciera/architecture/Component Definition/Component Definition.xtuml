-- BP 7.1.6 content: ModelClass syschar: 3 persistence-version: 7.1.6

INSERT INTO O_OBJ
	VALUES ("e3ac4a49-65cb-448a-a3dd-9c87254c638b",
	'Component Definition',
	402,
	'ComponentDefinition',
	'',
	"00000000-0000-0000-0000-000000000000");
INSERT INTO O_TFR
	VALUES ("96665c98-f5b6-4fc9-a37d-3de908cae9f8",
	"e3ac4a49-65cb-448a-a3dd-9c87254c638b",
	'render',
	'',
	"ba5eda7a-def5-0000-0000-000000000000",
	1,
	'select one file related by self->File[R403];
package_name = ::pathToPackage( path:file.path );
component_name = self.name;

// TODO get this from a mark
extends_class = "Component";
::addStringToImports( file:file, s:"io.ciera.cairn.components.Component" );

class_list = "";
separator = "";
select many objects related by self->Class[R414];
for each obj in objects
  class_list = class_list + separator + obj.name + ".class";
  separator = ", ";
end for;

port_initializations = "";
select many ports related by self->Port[R426];
if ( not_empty ports )
  sep = " ";
  for each port in ports
    port_initializations = port_initializations + sep + "new " + port.name + "()";
    sep = ", ";
  end for;
  port_initializations = port_initializations + " ";
end if;

separator = "";
for each obj in objects
  class_name = obj.name;
  class_key_letters = obj.key_letters;
  select one objset related by obj->ClassSet[R411];
  class_set_name = objset.name;
  isgeneric = true;
  isempty = false;
  T::b( s:separator );
  T::include( file:"java/t.selectfrominstances.java" );
  separator = "\n";
end for;
select_from_instances_block = T::body();
T::clear();

for each port in ports
  port_name = port.name;
  T::include( file:"java/t.portaccessors.java" );
end for;
ports_block = T::body();
T::clear();

init_block_throws_exception = self.init_block_throws_exception;
init_block = "";

cond_test = "if";
for each obj in objects
  select one objset related by obj->ClassSet[R411];
  T::b( s:"        " + cond_test + " ( type.equals( " + obj.name + ".class ) ) {\n" );
  T::b( s:"            return new " + objset.name + "();\n" );
  T::b( s:"        }\n" );
  cond_test = "else if";
end for;
new_instance_set_block = T::body();
T::clear();

import_block = file.getFormattedImports();

T::include( file:"java/t.component.java" );',
	1,
	'',
	"00000000-0000-0000-0000-000000000000",
	0);
INSERT INTO O_NBATTR
	VALUES ("cfe70c71-706b-4d6f-a6a6-afa677d5e035",
	"e3ac4a49-65cb-448a-a3dd-9c87254c638b");
INSERT INTO O_BATTR
	VALUES ("cfe70c71-706b-4d6f-a6a6-afa677d5e035",
	"e3ac4a49-65cb-448a-a3dd-9c87254c638b");
INSERT INTO O_ATTR
	VALUES ("cfe70c71-706b-4d6f-a6a6-afa677d5e035",
	"e3ac4a49-65cb-448a-a3dd-9c87254c638b",
	"00000000-0000-0000-0000-000000000000",
	'name',
	'',
	'',
	'name',
	0,
	"ba5eda7a-def5-0000-0000-000000000004",
	'',
	'');
INSERT INTO O_NBATTR
	VALUES ("860aab16-cea9-4c2e-88b3-9eb355611b32",
	"e3ac4a49-65cb-448a-a3dd-9c87254c638b");
INSERT INTO O_BATTR
	VALUES ("860aab16-cea9-4c2e-88b3-9eb355611b32",
	"e3ac4a49-65cb-448a-a3dd-9c87254c638b");
INSERT INTO O_ATTR
	VALUES ("860aab16-cea9-4c2e-88b3-9eb355611b32",
	"e3ac4a49-65cb-448a-a3dd-9c87254c638b",
	"cfe70c71-706b-4d6f-a6a6-afa677d5e035",
	'fully_qualified_name',
	'',
	'',
	'fully_qualified_name',
	0,
	"ba5eda7a-def5-0000-0000-000000000004",
	'',
	'');
INSERT INTO O_NBATTR
	VALUES ("8ec6ec63-9b24-4346-b29c-46f249e35e21",
	"e3ac4a49-65cb-448a-a3dd-9c87254c638b");
INSERT INTO O_BATTR
	VALUES ("8ec6ec63-9b24-4346-b29c-46f249e35e21",
	"e3ac4a49-65cb-448a-a3dd-9c87254c638b");
INSERT INTO O_ATTR
	VALUES ("8ec6ec63-9b24-4346-b29c-46f249e35e21",
	"e3ac4a49-65cb-448a-a3dd-9c87254c638b",
	"860aab16-cea9-4c2e-88b3-9eb355611b32",
	'init_block_throws_exception',
	'',
	'',
	'init_block_throws_exception',
	0,
	"ba5eda7a-def5-0000-0000-000000000001",
	'',
	'');
INSERT INTO O_ID
	VALUES (0,
	"e3ac4a49-65cb-448a-a3dd-9c87254c638b");
INSERT INTO O_ID
	VALUES (1,
	"e3ac4a49-65cb-448a-a3dd-9c87254c638b");
INSERT INTO O_ID
	VALUES (2,
	"e3ac4a49-65cb-448a-a3dd-9c87254c638b");
INSERT INTO PE_PE
	VALUES ("e3ac4a49-65cb-448a-a3dd-9c87254c638b",
	1,
	"73f28ea1-414d-499d-893f-5384c59bc0b2",
	"00000000-0000-0000-0000-000000000000",
	4);
INSERT INTO EP_PKG_PROXY
	VALUES ("73f28ea1-414d-499d-893f-5384c59bc0b2",
	"00000000-0000-0000-0000-000000000000",
	"aa743d3c-66dc-49df-a19a-ffbadf9c9d1b",
	'architecture',
	'',
	0,
	'../architecture.xtuml');
